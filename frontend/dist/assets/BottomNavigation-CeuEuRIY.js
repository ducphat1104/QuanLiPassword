import{j as e}from"./ui-C_uF5axt.js";import{r as t}from"./vendor-Bz3rmKJE.js";import{N as r,C as s,T as a,O as i,P as o,Q as n,M as l,R as c,S as d,i as m,g as x}from"./ThemeToggle-DM9h1x9n.js";import{L as h,u,b}from"./router-Dp9ZVfyb.js";const p=({user:c,onLogout:d,title:m="Quản lý mật khẩu",showBackButton:x=!1,backTo:u="/",totalItems:b=null,itemType:p="mật khẩu"})=>{const[f,g]=t.useState(!1),[y,j]=t.useState(!1),v=t.useRef(null);return t.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),t.useEffect(()=>{const e=()=>{const e=window.scrollY;j(e>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(y?"bg-card-bg/95 backdrop-blur-md shadow-lg border-b border-border-primary/50":"bg-card-bg shadow-md border-b border-border-primary"),children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center",children:x?e.jsxs(h,{to:u,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary font-medium transition-all duration-200 hover:scale-105 p-2 rounded-lg hover:bg-bg-tertiary",children:[e.jsx(r,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Quay lại"})]}):e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"text-primary-custom text-2xl mr-3"}),e.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"Quản lý mật khẩu"})]})}),x&&e.jsx("div",{className:"flex-1 text-center",children:e.jsx("h1",{className:"text-xl font-bold text-text-primary",children:m})}),!x&&e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{}),c&&!x?e.jsxs("div",{className:"relative hidden md:block",ref:v,children:[e.jsxs("button",{onClick:()=>g(!f),className:"flex items-center text-text-secondary hover:text-text-primary focus:outline-none transition-colors duration-200 p-2 rounded-lg hover:bg-bg-tertiary min-h-[48px]","aria-label":"User menu",children:[e.jsx("span",{className:"mr-3 text-text-primary font-medium",children:c.username}),c.avatar?e.jsx("img",{src:c.avatar,alt:"User Avatar",className:"w-8 h-8 rounded-full border-2 border-border-primary"}):e.jsx(i,{className:"w-8 h-8 text-text-tertiary"})]}),f&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-card-bg rounded-md shadow-custom-lg py-1 z-50 ring-1 ring-border-primary border border-border-primary hidden md:block",children:[e.jsxs(h,{to:"/profile",onClick:()=>g(!1),className:"w-full text-left px-4 py-2 text-sm text-text-primary hover:bg-bg-tertiary flex items-center transition-colors duration-200",children:[e.jsx(o,{className:"mr-2 text-text-secondary"}),"Cài đặt tài khoản"]}),e.jsxs(h,{to:"/trash",onClick:()=>g(!1),className:"w-full text-left px-4 py-2 text-sm text-text-primary hover:bg-bg-tertiary flex items-center transition-colors duration-200",children:[e.jsx(n,{className:"mr-2 text-text-secondary"}),"Thùng rác"]}),e.jsx("div",{className:"border-t border-border-primary my-1"}),e.jsxs("button",{onClick:()=>{d(),g(!1)},className:"w-full text-left px-4 py-2 text-sm text-danger-custom hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center transition-colors duration-200",children:[e.jsx(l,{className:"mr-2"}),"Đăng xuất"]})]})]}):e.jsx("div",{})]})]})})},f=({onAddPassword:t})=>{const r=u(),s=b(),a=[{id:"home",icon:c,label:"Trang chủ",path:"/",isActive:"/"===r.pathname},{id:"add",icon:d,label:"Thêm mới",action:t,isActive:!1},{id:"profile",icon:m,label:"Hồ sơ",path:"/profile",isActive:"/profile"===r.pathname},{id:"trash",icon:x,label:"Thùng rác",path:"/trash",isActive:"/trash"===r.pathname}];return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card-bg border-t border-border-primary z-50 md:hidden",children:e.jsx("div",{className:"flex items-center justify-around py-2",children:a.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>(e=>{e.action?e.action():e.path&&s(e.path)})(t),className:"flex flex-col items-center justify-center p-3 min-w-[60px] min-h-[60px] rounded-lg transition-all duration-200 "+(t.isActive?"text-primary-custom bg-primary-custom/10":"text-text-tertiary hover:text-text-secondary hover:bg-bg-tertiary"),"aria-label":t.label,children:[e.jsx(r,{className:"text-xl mb-1 "+(t.isActive?"text-primary-custom":"")}),e.jsx("span",{className:"text-xs font-medium "+(t.isActive?"text-primary-custom":""),children:t.label})]},t.id)})})})};export{f as B,p as H};
